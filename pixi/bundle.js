!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=6)}([function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o}));var r=function(t){for(var e,n,r=t.length;0!==r;)n=Math.floor(Math.random()*r),e=t[r-=1],t[r]=t[n],t[n]=e;return t},o=function(t){return new Promise((function(e){return setTimeout(e,t)}))}},function(t,e,n){(function(e){var n=function(t){"use strict";var e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var o=e&&e.prototype instanceof h?e:h,i=Object.create(o.prototype),a=new S(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return L()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=w(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(t,e,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(t,n,a),i}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function h(){}function l(){}function v(){}var p={};p[o]=function(){return this};var y=Object.getPrototypeOf,d=y&&y(y(x([])));d&&d!==e&&n.call(d,o)&&(p=d);var _=v.prototype=h.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function m(t,e){var r;this._invoke=function(o,i){function a(){return new e((function(r,a){!function r(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var f=s.arg,h=f.value;return h&&"object"==typeof h&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){r("next",t,a,u)}),(function(t){r("throw",t,a,u)})):e.resolve(h).then((function(t){f.value=t,a(f)}),(function(t){return r("throw",t,a,u)}))}u(s.arg)}(o,i,r,a)}))}return r=r?r.then(a,a):a()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=c(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,f;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function b(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(b,this),this.reset(!0)}function x(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:L}}function L(){return{value:void 0,done:!0}}return l.prototype=_.constructor=v,v.constructor=l,l.displayName=u(v,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===l||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,u(t,a,"GeneratorFunction")),t.prototype=Object.create(_),t},t.awrap=function(t){return{__await:t}},g(m.prototype),m.prototype[i]=function(){return this},t.AsyncIterator=m,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new m(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(_),u(_,a,"Generator"),_[o]=function(){return this},_.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=x,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;O(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:x(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}(t.exports);try{n}catch(t){Function("r","regeneratorRuntime = r")(n)}}).call(this,n(1))},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return f}));var r,o=n(3),i=n(0);function a(t,e,n,r,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,o)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),t}!function(t){t.STEP="STEP"}(r||(r={}));var f,h=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;u(this,e),this._bus=new o,this._current=0,this._to=t,this._timeStep=n}var n,s;return c(e,[{key:"_count",value:(n=t.mark((function e(){return t.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(i.b)(this._timeStep);case 2:if(void 0!==this._current){t.next=4;break}return t.abrupt("return");case 4:this._current+=this._timeStep,this._bus.emit(r.STEP),this._current<this._to&&this._count();case 7:case"end":return t.stop()}}),e,this)})),s=function(){var t=this,e=arguments;return new Promise((function(r,o){var i=n.apply(t,e);function u(t){a(i,r,o,u,s,"next",t)}function s(t){a(i,r,o,u,s,"throw",t)}u(void 0)}))},function(){return s.apply(this,arguments)})},{key:"start",value:function(){this._count()}},{key:"clear",value:function(){void 0!==this._bus&&this._bus.removeAllListeners(),this._bus=void 0,this._current=void 0,this._to=void 0,this._timeStep=void 0}},{key:"bus",get:function(){return this._bus}}]),e}(),l=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:60;u(this,t),this._remainingSeconds=-1,this._onStep=function(){e._remainingSeconds--,0===e._remainingSeconds?e._bus.emit(f.COUNT_END):e._bus.emit(f.COUNT_DOWN)},this._bus=new o,this._reset(n)}return c(t,[{key:"_reset",value:function(t){void 0!==this._counter&&this._counter.clear(),this._remainingSeconds=-1,this._counter=new h(1e3*t),this._counter.bus.on(r.STEP,this._onStep)}},{key:"start",value:function(){this._remainingSeconds=this._gameSeconds,this._counter.start()}},{key:"stop",value:function(){this._counter.clear()}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._gameSeconds;this._gameSeconds=t,this._reset(t)}},{key:"bus",get:function(){return this._bus}},{key:"remainingSeconds",get:function(){return this._remainingSeconds}}]),t}();!function(t){t.COUNT_DOWN="COUNT_DOWN",t.COUNT_END="COUNT_END"}(f||(f={}))}).call(this,n(1))},function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty,o="~";function i(){}function a(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function u(t,e,n,r,i){if("function"!=typeof n)throw new TypeError("The listener must be a function");var u=new a(n,r||t,i),s=o?o+e:e;return t._events[s]?t._events[s].fn?t._events[s]=[t._events[s],u]:t._events[s].push(u):(t._events[s]=u,t._eventsCount++),t}function s(t,e){0==--t._eventsCount?t._events=new i:delete t._events[e]}function c(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(o=!1)),c.prototype.eventNames=function(){var t,e,n=[];if(0===this._eventsCount)return n;for(e in t=this._events)r.call(t,e)&&n.push(o?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},c.prototype.listeners=function(t){var e=o?o+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,i=n.length,a=new Array(i);r<i;r++)a[r]=n[r].fn;return a},c.prototype.listenerCount=function(t){var e=o?o+t:t,n=this._events[e];return n?n.fn?1:n.length:0},c.prototype.emit=function(t,e,n,r,i,a){var u=o?o+t:t;if(!this._events[u])return!1;var s,c,f=this._events[u],h=arguments.length;if(f.fn){switch(f.once&&this.removeListener(t,f.fn,void 0,!0),h){case 1:return f.fn.call(f.context),!0;case 2:return f.fn.call(f.context,e),!0;case 3:return f.fn.call(f.context,e,n),!0;case 4:return f.fn.call(f.context,e,n,r),!0;case 5:return f.fn.call(f.context,e,n,r,i),!0;case 6:return f.fn.call(f.context,e,n,r,i,a),!0}for(c=1,s=new Array(h-1);c<h;c++)s[c-1]=arguments[c];f.fn.apply(f.context,s)}else{var l,v=f.length;for(c=0;c<v;c++)switch(f[c].once&&this.removeListener(t,f[c].fn,void 0,!0),h){case 1:f[c].fn.call(f[c].context);break;case 2:f[c].fn.call(f[c].context,e);break;case 3:f[c].fn.call(f[c].context,e,n);break;case 4:f[c].fn.call(f[c].context,e,n,r);break;default:if(!s)for(l=1,s=new Array(h-1);l<h;l++)s[l-1]=arguments[l];f[c].fn.apply(f[c].context,s)}}return!0},c.prototype.on=function(t,e,n){return u(this,t,e,n,!1)},c.prototype.once=function(t,e,n){return u(this,t,e,n,!0)},c.prototype.removeListener=function(t,e,n,r){var i=o?o+t:t;if(!this._events[i])return this;if(!e)return s(this,i),this;var a=this._events[i];if(a.fn)a.fn!==e||r&&!a.once||n&&a.context!==n||s(this,i);else{for(var u=0,c=[],f=a.length;u<f;u++)(a[u].fn!==e||r&&!a[u].once||n&&a[u].context!==n)&&c.push(a[u]);c.length?this._events[i]=1===c.length?c[0]:c:s(this,i)}return this},c.prototype.removeAllListeners=function(t){var e;return t?(e=o?o+t:t,this._events[e]&&s(this,e)):(this._events=new i,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=o,c.EventEmitter=c,t.exports=c},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return v}));var r=n(2),o=n(5);function i(t,e,n,r,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,o)}function a(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function u(t){i(a,r,o,u,s,"next",t)}function s(t){i(a,r,o,u,s,"throw",t)}u(void 0)}))}}function u(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var f,h,l,v=function(){function e(){var t=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this._onCountEnd=function(){t._gameStatus=l.LOST},this._game=new o.a,this._gameCounter=new r.a,this._gameCounter.bus.on(r.b.COUNT_END,this._onCountEnd)}var n,i,s,v,p,y;return n=e,(i=[{key:"_state",get:function(){return{action:this._action,actionStatus:this._actionStatus,gameStatus:this._gameStatus,remainingSeconds:this._gameCounter.remainingSeconds,cards:u(this._game.cards),playResult:this._game.playResult}}},{key:"init",value:(y=a(t.mark((function e(){var n,r,o=arguments;return t.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=o.length>0&&void 0!==o[0]?o[0]:10,r=o.length>1&&void 0!==o[1]?o[1]:60,this._gameStatus===l.PLAYING?this._actionStatus=h.ERROR_NOT_VALID_ACTION:n<=0||n%2!=0||r<=0?this._actionStatus=h.ERROR_NOT_VALID_PARAMETERS:(this._action=f.INIT,this._actionStatus=h.OK,this._gameStatus=l.PLAYING,this._game.reset(n),this._gameCounter.reset(r),this._gameCounter.start()),t.abrupt("return",this._state);case 4:case"end":return t.stop()}}),e,this)}))),function(){return y.apply(this,arguments)})},{key:"play",value:(p=a(t.mark((function e(n,r){var o;return t.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._gameStatus!==l.PLAYING?this._actionStatus=h.ERROR_NOT_VALID_ACTION:n<0||n>=this._state.cards.length||r<0||r>=this._state.cards.length?this._actionStatus=h.ERROR_NOT_VALID_PARAMETERS:(this._action=f.PLAY,this._actionStatus=h.OK,(o=this._game.checkPair(n,r)).playResult&&o.ended&&(this._gameStatus=l.WIN,this._gameCounter.stop())),t.abrupt("return",this._state);case 2:case"end":return t.stop()}}),e,this)}))),function(t,e){return p.apply(this,arguments)})},{key:"getState",value:(v=a(t.mark((function e(){return t.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this._state);case 1:case"end":return t.stop()}}),e,this)}))),function(){return v.apply(this,arguments)})},{key:"bus",get:function(){return this._gameCounter.bus}}])&&c(n.prototype,i),s&&c(n,s),e}();!function(t){t.INIT="INIT",t.PLAY="PLAY"}(f||(f={})),function(t){t.OK="OK",t.ERROR_NOT_VALID_ACTION="ERROR_NOT_VALID_ACTION",t.ERROR_NOT_VALID_PARAMETERS="ERROR_NOT_VALID_PARAMETERS"}(h||(h={})),function(t){t.PLAYING="PLAYING",t.WIN="WIN",t.LOST="LOST"}(l||(l={}))}).call(this,n(1))},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n(0);function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var a,u=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;o(this,t),this._reset(e)}var e,n,u;return e=t,(n=[{key:"_getCardArray",value:function(t){var e;if(t>0){e=new Array(t);for(var n=0;n<e.length;n++)e[n]=(n-n%2)/2;Object(r.a)(e)}return e}},{key:"_reset",value:function(t){this._hits=0,this._cards=this._getCardArray(t)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._cards.length;this._reset(t)}},{key:"checkPair",value:function(t,e){var n={playResult:a.FAIL,ended:!1};return this._cards[t]===this._cards[e]&&-1!==this._cards[t]&&(n.playResult=a.HIT,this._hits++,this._cards[t]=-1,this._cards[e]=-1,n.ended=this.ended),this._playResult=n.playResult,n}},{key:"cards",get:function(){return this._cards}},{key:"playResult",get:function(){return this._playResult}},{key:"ended",get:function(){return this._hits>=this._cards.length/2}}])&&i(e.prototype,n),u&&i(e,u),t}();!function(t){t.HIT="HIT",t.FAIL="FAIL"}(a||(a={}))},function(t,e,n){t.exports=n(7)},function(t,e,n){"use strict";n.r(e);var r=n(4);window.sh=window.sh||{},window.sh.gameService=window.sh.gameService||new r.a}]);